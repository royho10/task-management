(this["webpackJsonptask-management"]=this["webpackJsonptask-management"]||[]).push([[0],[,,,,,,,function(e,t,a){},,,,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},,function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),s=a(9),l=a.n(s),r=(a(14),a(6)),o=a(2),c=a(3),m=a(1),u=a(5),h=a(4),b=(a(15),a(16),function(e){var t=e.onRouteChange;return e.isSignedIn?i.a.createElement("nav",{className:"nav-bar"},i.a.createElement("h1",{className:"logo"},"TaskIT"),i.a.createElement("ul",{className:"main-nav"},i.a.createElement("li",{className:"link dim pointer",onClick:function(){return t("signin")}},"Log Out"))):i.a.createElement("nav",{className:"nav-bar"},i.a.createElement("h1",{className:"logo"},"TaskIT"),i.a.createElement("ul",{className:"main-nav"},i.a.createElement("li",{className:"link dim pointer mr4",onClick:function(){return t("signin")}},"Sign In"),i.a.createElement("li",{className:"link dim pointer",onClick:function(){return t("resgister")}},"Register")))}),d=function(e){var t=e.name;return i.a.createElement("div",{className:"f3 mv2"},"Hello ".concat(t,", nice to have you back :)"))},p=(a(7),function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={isAddAnotherTaskOn:!1,title:""},n.onInputChange=n.onInputChange.bind(Object(m.a)(n)),n.onClickAddAnotherTask=n.onClickAddAnotherTask.bind(Object(m.a)(n)),n.onSubmitForm=n.onSubmitForm.bind(Object(m.a)(n)),n.onClickX=n.onClickX.bind(Object(m.a)(n)),n}return Object(c.a)(a,[{key:"onInputChange",value:function(e){this.setState({title:e.target.value})}},{key:"onClickAddAnotherTask",value:function(){this.setState({isAddAnotherTaskOn:!0})}},{key:"onClickX",value:function(){this.setState({isAddAnotherTaskOn:!1})}},{key:"onSubmitForm",value:function(e){e.preventDefault(),this.props.onSubmitNewTask(this.state.title,this.props.list_id),this.setState({isAddAnotherTaskOn:!1,title:""})}},{key:"render",value:function(){return i.a.createElement("div",null,!1===this.state.isAddAnotherTaskOn?i.a.createElement("div",null,i.a.createElement("div",null,i.a.createElement("button",{onClick:this.onClickAddAnotherTask,type:"button",className:"f7 link dim br2 pa1 ml3 dib black"},"+ Add another task"))):i.a.createElement("form",{onSubmit:this.onSubmitForm,className:"br2"},i.a.createElement("div",{className:"br2 container"},i.a.createElement("div",{className:"item1"},i.a.createElement("input",{className:"f6 pa1 w-100",type:"text",placeholder:"Enter task title",onChange:this.onInputChange})),i.a.createElement("div",{className:"item2"},i.a.createElement("button",{className:"f7 mv1 pa1 br2 dim bg-green",type:"submit"},"Submit")),i.a.createElement("div",{className:"f6 pa1 br2 dim bg-grey black item3"},i.a.createElement("button",{onClick:this.onClickX},"X")))))}}]),a}(n.Component)),g=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).onInputChange=function(e){n.setState({title:e.target.value})},n.onClickAddAnotherList=function(){n.setState({isAddAnotherListOn:!0})},n.onclickX=function(){n.setState({isAddAnotherListOn:!1})},n.onSubmitForm=function(e){e.preventDefault(),n.props.onSubmitNewList(n.state.title),n.setState({isAddAnotherListOn:!1,title:""})},n.state={isAddAnotherListOn:!1,title:""},n.onInputChange=n.onInputChange.bind(Object(m.a)(n)),n.onClickAddAnotherList=n.onClickAddAnotherList.bind(Object(m.a)(n)),n.onSubmitForm=n.onSubmitForm.bind(Object(m.a)(n)),n.onclickX=n.onclickX.bind(Object(m.a)(n)),n}return Object(c.a)(a,[{key:"render",value:function(){return i.a.createElement("div",null,!1===this.state.isAddAnotherListOn?i.a.createElement("div",{className:""},i.a.createElement("button",{onClick:this.onClickAddAnotherList,type:"button",className:"f7 link dim br2 pa1 ml3 dib black"},"+ Add another list")):i.a.createElement("form",{onSubmit:this.onSubmitForm,className:"br2"},i.a.createElement("div",{className:"br2 container bg-moon-gray"},i.a.createElement("div",{className:"item1"},i.a.createElement("input",{className:"f6 pa1 w-100",type:"text",placeholder:"Enter list title",onChange:this.onInputChange})),i.a.createElement("div",{className:"item2"},i.a.createElement("button",{className:"f7 mv1 pa1 br2 dim bg-green",type:"submit"},"Submit")),i.a.createElement("div",{className:"f6 pa1 br2 dim bg-grey black item3"},i.a.createElement("button",{onClick:this.onclickX},"X")))))}}]),a}(n.Component),f=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={isChangeListNameOn:!1,title:""},n.onInputChange=n.onInputChange.bind(Object(m.a)(n)),n.onClickChangeListName=n.onClickChangeListName.bind(Object(m.a)(n)),n.onSubmitForm=n.onSubmitForm.bind(Object(m.a)(n)),n.onClickX=n.onClickX.bind(Object(m.a)(n)),n}return Object(c.a)(a,[{key:"onInputChange",value:function(e){this.setState({title:e.target.value})}},{key:"onClickChangeListName",value:function(){this.setState({isChangeListNameOn:!0})}},{key:"onClickX",value:function(){this.setState({isChangeListNameOn:!1})}},{key:"onSubmitForm",value:function(e){e.preventDefault(),this.props.onSubmitChangeListName(this.state.title,this.props.list_id),this.setState({isChangeListNameOn:!1,title:""})}},{key:"render",value:function(){return i.a.createElement("div",null,!1===this.state.isChangeListNameOn?i.a.createElement("div",null,i.a.createElement("button",{type:"button",onClick:this.onClickChangeListName,className:"f7 link dim br2 pa1 ml3 dib black bg-grey"},"change list name")):i.a.createElement("form",{onSubmit:this.onSubmitForm,className:"br2"},i.a.createElement("div",{className:"br2 container"},i.a.createElement("div",{className:"item1"},i.a.createElement("input",{className:"f6 pa1 w-100",type:"text",placeholder:"Enter new list title",onChange:this.onInputChange})),i.a.createElement("div",{className:"item2"},i.a.createElement("button",{className:"f7 mv1 pa1 br2 dim bg-green",type:"submit"},"Submit")),i.a.createElement("div",{className:"f6 pa1 br2 dim bg-grey black item3"},i.a.createElement("button",{onClick:this.onClickX},"X")))))}}]),a}(n.Component),k=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={isChangeTaskNameOn:!1,title:""},n.onInputChange=n.onInputChange.bind(Object(m.a)(n)),n.onClickChangeTaskName=n.onClickChangeTaskName.bind(Object(m.a)(n)),n.onSubmitForm=n.onSubmitForm.bind(Object(m.a)(n)),n.onClickX=n.onClickX.bind(Object(m.a)(n)),n}return Object(c.a)(a,[{key:"onInputChange",value:function(e){this.setState({title:e.target.value})}},{key:"onClickChangeTaskName",value:function(){this.setState({isChangeTaskNameOn:!0})}},{key:"onClickX",value:function(){this.setState({isChangeTaskNameOn:!1})}},{key:"onSubmitForm",value:function(e){e.preventDefault(),this.props.onSubmitChangeTaskName(this.state.title,this.props.task_id),this.setState({isChangeTaskNameOn:!1,title:""})}},{key:"render",value:function(){return i.a.createElement("div",null,!1===this.state.isChangeTaskNameOn?i.a.createElement("div",null,i.a.createElement("button",{type:"button",onClick:this.onClickChangeTaskName,className:"f7 link dim br2 pa1 ml3 dib black"},"change task name")):i.a.createElement("form",{onSubmit:this.onSubmitForm,className:"br2"},i.a.createElement("div",{className:"br2 container"},i.a.createElement("div",{className:"item1"},i.a.createElement("input",{className:"f7 pa1 w-100",type:"text",placeholder:"Enter new task title",onChange:this.onInputChange})),i.a.createElement("div",{className:"item2"},i.a.createElement("button",{className:"f7 mv1 pa1 br2 dim bg-green",type:"submit"},"Submit")),i.a.createElement("div",{className:"f6 pa1 br2 dim bg-grey black item3"},i.a.createElement("button",{onClick:this.onClickX},"X")))))}}]),a}(n.Component),N=(a(17),function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"onSubmitNewList",value:function(e){this.props.SubmitNewList(e)}},{key:"onSubmitNewTask",value:function(e,t){this.props.SubmitNewTask(e,t)}},{key:"onSubmitChangeListName",value:function(e,t){this.props.SubmitNewListName(e,t)}},{key:"onSubmitChangeTaskName",value:function(e,t){this.props.SubmitNewTaskName(e,t)}},{key:"render",value:function(){var e=this;return i.a.createElement("div",{className:"flex"},i.a.createElement("ul",{className:"flex"},this.props.lists.map((function(t,a){return i.a.createElement("div",{key:t.list_id,className:"mh2 br2"},i.a.createElement("li",{className:"flex-column list br2"},i.a.createElement("div",{className:"mb1"},t.title,i.a.createElement("button",{type:"button",onClick:function(){return e.props.deleteList(t.list_id)},className:"f7 link dim br2 pa1 ml3 dib white bg-red"},"delete"),i.a.createElement(f,{onSubmitChangeListName:e.onSubmitChangeListName.bind(e),list_id:t.list_id})),i.a.createElement("ul",{className:"flex flex-column"},e.props.tasks.map((function(a){return a.list_id===t.list_id?i.a.createElement("li",{key:a.task_id,className:"task br2 mh2 mb1"},a.title,i.a.createElement("button",{type:"button",onClick:function(){return e.props.deleteTask(a.task_id)},className:"f7 link dim br2 pa1 ml3 dib white bg-red"},"delete"),i.a.createElement(k,{className:"mh2 pa0",onSubmitChangeTaskName:e.onSubmitChangeTaskName.bind(e),list_id:t.list_id,task_id:a.task_id})):null})),i.a.createElement("div",{id:a,className:"task br2 mh2 mb2 pt1"},i.a.createElement(p,{onSubmitNewTask:e.onSubmitNewTask.bind(e),list_id:t.list_id})))))}))),i.a.createElement(g,{onSubmitNewList:this.onSubmitNewList.bind(this)}))}}]),a}(n.Component)),v=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).onEmailChange=function(e){n.setState({signInEmail:e.target.value})},n.onPasswordChange=function(e){n.setState({signInPassword:e.target.value})},n.onSubmitSignIn=function(){fetch("http://localhost:3000/signin",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:n.state.signInEmail,password:n.state.signInPassword})}).then((function(e){return e.json()})).then((function(e){if("wrong credentials"===e)return console.log("wrong credentials");e.first_name&&(n.props.loadUser(e),n.props.onRouteChange("home"))}))},n.state={signInEmail:"",signInPassword:""},n}return Object(c.a)(a,[{key:"render",value:function(){var e=this;return i.a.createElement("article",{className:"br3 ba dark-gray b--black-10 mv4 w-100 w-50-m w-25-l mw6 shadow-5 center"},i.a.createElement("main",{className:"pa4 black-80 center"},i.a.createElement("div",{className:"measure"},i.a.createElement("fieldset",{id:"sign_up",className:"ba b--transparent ph0 mh0"},i.a.createElement("legend",{className:"f2 fw6 ph0 mh0"},"Sign In"),i.a.createElement("div",{className:"mt3"},i.a.createElement("label",{className:"db fw6 lh-copy f6",htmlFor:"email-address"},"Email"),i.a.createElement("input",{className:"pa2 input-reset ba bg-transparent hover-bg-black hover-white w-100",type:"email",name:"email-address",id:"email-address",onChange:this.onEmailChange})),i.a.createElement("div",{className:"mv3"},i.a.createElement("label",{className:"db fw6 lh-copy f6",htmlFor:"password"},"Password"),i.a.createElement("input",{className:"b pa2 input-reset ba bg-transparent hover-bg-black hover-white w-100",type:"password",name:"password",id:"password",onChange:this.onPasswordChange}))),i.a.createElement("div",{className:""},i.a.createElement("input",{onClick:this.onSubmitSignIn,className:"b ph3 pv2 input-reset ba b--black bg-transparent grow pointer f6 dib",type:"submit",value:"Sign in"})),i.a.createElement("div",{className:"lh-copy mt3"},i.a.createElement("p",{onClick:function(){return e.props.onRouteChange("register")},className:"f6 link dim black pointer db"},"Register")))))}}]),a}(n.Component),C=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).onFirstNameChange=function(e){n.setState({first_name:e.target.value})},n.onLastNameChange=function(e){n.setState({last_name:e.target.value})},n.onEmailChange=function(e){n.setState({email:e.target.value})},n.onPasswordChange=function(e){n.setState({password:e.target.value})},n.onSubmitRegister=function(){fetch("http://localhost:3000/register",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:n.state.email,password:n.state.password,first_name:n.state.first_name,last_name:n.state.last_name})}).then((function(e){return e.json()})).then((function(e){n.props.loadUser(e),n.props.onRouteChange("home")}))},n.state={email:"",password:"",first_name:"",last_name:""},n}return Object(c.a)(a,[{key:"render",value:function(){return i.a.createElement("article",{className:"br3 ba dark-gray b--black-10 mv4 w-100 w-50-m w-25-l mw6 shadow-5 center"},i.a.createElement("main",{className:"pa4 black-80 center"},i.a.createElement("div",{className:"measure"},i.a.createElement("fieldset",{id:"sign_up",className:"ba b--transparent ph0 mh0"},i.a.createElement("legend",{className:"f2 fw6 ph0 mh0"},"Register"),i.a.createElement("div",{className:"mt3"},i.a.createElement("label",{className:"db fw6 lh-copy f6",htmlFor:"email-address"},"First Name"),i.a.createElement("input",{className:"pa2 input-reset ba bg-transparent hover-bg-black hover-white w-100",type:"text",name:"first_name",id:"first_name",onChange:this.onFirstNameChange})),i.a.createElement("div",{className:"mt3"},i.a.createElement("label",{className:"db fw6 lh-copy f6",htmlFor:"email-address"},"Last Name"),i.a.createElement("input",{className:"pa2 input-reset ba bg-transparent hover-bg-black hover-white w-100",type:"text",name:"last_name",id:"last_name",onChange:this.onLastNameChange})),i.a.createElement("div",{className:"mt3"},i.a.createElement("label",{className:"db fw6 lh-copy f6",htmlFor:"email-address"},"Email"),i.a.createElement("input",{className:"pa2 input-reset ba bg-transparent hover-bg-black hover-white w-100",type:"email",name:"email-address",id:"email-address",onChange:this.onEmailChange})),i.a.createElement("div",{className:"mv3"},i.a.createElement("label",{className:"db fw6 lh-copy f6",htmlFor:"password"},"Password"),i.a.createElement("input",{className:"b pa2 input-reset ba bg-transparent hover-bg-black hover-white w-100",type:"password",name:"password",id:"password",onChange:this.onPasswordChange}))),i.a.createElement("div",{className:""},i.a.createElement("input",{onClick:this.onSubmitRegister,className:"b ph3 pv2 input-reset ba b--black bg-transparent grow pointer f6 dib",type:"submit",value:"Register"})))))}}]),a}(n.Component),E={route:"signin",isSignedIn:!1,user:{first_name:"",last_name:"",email:"",lists:[],tasks:[],joined:""}},S=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(){var e;return Object(o.a)(this,a),(e=t.call(this)).onRouteChange=function(t){"signin"===t||"register"===t?e.setState(E):"home"===t&&e.setState({isSignedIn:!0}),e.setState({route:t})},e.loadUser=function(t){e.setState({user:{first_name:t.first_name,last_name:t.last_name,email:t.email,lists:t.lists,tasks:t.tasks}})},e.SubmitNewList=function(t){fetch("http://localhost:3000/lists",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e.state.user.email,title:t})}).then((function(e){return e.json()})).then((function(t){e.setState({user:Object(r.a)(Object(r.a)({},e.state.user),{},{lists:t})})}))},e.SubmitNewTask=function(t,a){fetch("http://localhost:3000/tasks",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e.state.user.email,title:t,list_id:a})}).then((function(e){return e.json()})).then((function(t){e.setState({user:Object(r.a)(Object(r.a)({},e.state.user),{},{tasks:t})})}))},e.deleteTask=function(t){fetch("http://localhost:3000/tasks",{method:"delete",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e.state.user.email,task_id:t})}).then((function(e){return e.json()})).then((function(t){e.setState({user:Object(r.a)(Object(r.a)({},e.state.user),{},{tasks:t})})}))},e.deleteList=function(t){fetch("http://localhost:3000/lists",{method:"delete",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e.state.user.email,list_id:t})}).then((function(e){return e.json()})).then((function(t){e.setState({user:Object(r.a)(Object(r.a)({},e.state.user),{},{lists:t})})}))},e.SubmitNewListName=function(t,a){fetch("http://localhost:3000/lists",{method:"put",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e.state.user.email,list_id:a,new_title:t})}).then((function(e){return e.json()})).then((function(t){e.setState({user:Object(r.a)(Object(r.a)({},e.state.user),{},{lists:t})})}))},e.SubmitNewTaskName=function(t,a){fetch("http://localhost:3000/tasks",{method:"put",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e.state.user.email,task_id:a,new_title:t})}).then((function(e){return e.json()})).then((function(t){e.setState({user:Object(r.a)(Object(r.a)({},e.state.user),{},{tasks:t})})}))},e.state={route:"signin",isSignedIn:!1,user:{first_name:"",last_name:"",email:"",lists:[],tasks:[],joined:""}},e.SubmitNewList=e.SubmitNewList.bind(Object(m.a)(e)),e.SubmitNewTask=e.SubmitNewTask.bind(Object(m.a)(e)),e.deleteTask=e.deleteTask.bind(Object(m.a)(e)),e.deleteList=e.deleteList.bind(Object(m.a)(e)),e.onRouteChange=e.onRouteChange.bind(Object(m.a)(e)),e}return Object(c.a)(a,[{key:"render",value:function(){var e=this.state,t=e.isSignedIn,a=e.route,n=e.user;return i.a.createElement("div",{className:"App"},i.a.createElement(b,{onRouteChange:this.onRouteChange,isSignedIn:t}),"home"===a?i.a.createElement("div",null,i.a.createElement(d,{name:n.first_name}),i.a.createElement(N,{lists:n.lists,tasks:n.tasks,SubmitNewTask:this.SubmitNewTask,SubmitNewList:this.SubmitNewList,SubmitNewListName:this.SubmitNewListName,SubmitNewTaskName:this.SubmitNewTaskName,deleteTask:this.deleteTask,deleteList:this.deleteList})):"signin"===a?i.a.createElement(v,{onRouteChange:this.onRouteChange,loadUser:this.loadUser}):i.a.createElement(C,{onRouteChange:this.onRouteChange,loadUser:this.loadUser}))}}]),a}(n.Component),w=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function y(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}a(18);l.a.render(i.a.createElement(i.a.StrictMode,null,i.a.createElement(S,null)),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/task-management",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/task-management","/service-worker.js");w?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):y(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):y(t,e)}))}}()}],[[19,1,2]]]);
//# sourceMappingURL=main.023a7004.chunk.js.map