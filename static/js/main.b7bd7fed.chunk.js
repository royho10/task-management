(this["webpackJsonptask-management"]=this["webpackJsonptask-management"]||[]).push([[0],[,,,,,,,,function(e,t,n){},,,,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},,function(e,t,n){"use strict";n.r(t);var s=n(0),a=n(2),i=n.n(a),c=n(10),o=n.n(c),r=(n(16),n(7)),l=n(3),b=n(4),h=n(1),d=n(6),m=n(5),u=(n(17),n(18),function(e){var t=e.onRouteChange;return e.isSignedIn?Object(s.jsxs)("nav",{className:"nav-bar",children:[Object(s.jsx)("h1",{className:"logo",children:"TaskIT"}),Object(s.jsx)("ul",{className:"main-nav",children:Object(s.jsx)("li",{className:"link dim pointer",onClick:function(){return t("signin")},children:"Log Out"})})]}):Object(s.jsxs)("nav",{className:"nav-bar",children:[Object(s.jsx)("h1",{className:"logo",children:"TaskIT"}),Object(s.jsxs)("ul",{className:"main-nav",children:[Object(s.jsx)("li",{className:"link dim pointer mr4",onClick:function(){return t("signin")},children:"Sign In"}),Object(s.jsx)("li",{className:"link dim pointer",onClick:function(){return t("resgister")},children:"Register"})]})]})}),j=function(e){var t=e.name;return Object(s.jsx)("div",{className:"f3 mv2",children:"Hello ".concat(t,", nice to have you back :)")})},p=(n(8),function(e){Object(d.a)(n,e);var t=Object(m.a)(n);function n(e){var s;return Object(l.a)(this,n),(s=t.call(this,e)).state={isAddAnotherTaskOn:!1,title:""},s.onInputChange=s.onInputChange.bind(Object(h.a)(s)),s.onClickAddAnotherTask=s.onClickAddAnotherTask.bind(Object(h.a)(s)),s.onSubmitForm=s.onSubmitForm.bind(Object(h.a)(s)),s.onClickX=s.onClickX.bind(Object(h.a)(s)),s}return Object(b.a)(n,[{key:"onInputChange",value:function(e){this.setState({title:e.target.value})}},{key:"onClickAddAnotherTask",value:function(){this.setState({isAddAnotherTaskOn:!0})}},{key:"onClickX",value:function(){this.setState({isAddAnotherTaskOn:!1})}},{key:"onSubmitForm",value:function(e){e.preventDefault(),this.props.onSubmitNewTask(this.state.title,this.props.list_id),this.setState({isAddAnotherTaskOn:!1,title:""})}},{key:"render",value:function(){return Object(s.jsx)("div",{children:!1===this.state.isAddAnotherTaskOn?Object(s.jsx)("div",{children:Object(s.jsx)("div",{children:Object(s.jsx)("button",{onClick:this.onClickAddAnotherTask,type:"button",className:"f7 link dim br2 pa1 ml3 dib black",children:"+ Add another task"})})}):Object(s.jsx)("form",{onSubmit:this.onSubmitForm,className:"br2",children:Object(s.jsxs)("div",{className:"br2 container",children:[Object(s.jsx)("div",{className:"item1",children:Object(s.jsx)("input",{className:"f6 pa1 w-100",type:"text",placeholder:"Enter task title",onChange:this.onInputChange})}),Object(s.jsx)("div",{className:"item2",children:Object(s.jsx)("button",{className:"f7 mv1 pa1 br2 dim bg-green",type:"submit",children:"Submit"})}),Object(s.jsx)("div",{className:"f6 pa1 br2 dim bg-grey black item3",children:Object(s.jsx)("button",{onClick:this.onClickX,children:"X"})})]})})})}}]),n}(a.Component)),g=function(e){Object(d.a)(n,e);var t=Object(m.a)(n);function n(e){var s;return Object(l.a)(this,n),(s=t.call(this,e)).onInputChange=function(e){s.setState({title:e.target.value})},s.onClickAddAnotherList=function(){s.setState({isAddAnotherListOn:!0})},s.onclickX=function(){s.setState({isAddAnotherListOn:!1})},s.onSubmitForm=function(e){e.preventDefault(),s.props.onSubmitNewList(s.state.title),s.setState({isAddAnotherListOn:!1,title:""})},s.state={isAddAnotherListOn:!1,title:""},s.onInputChange=s.onInputChange.bind(Object(h.a)(s)),s.onClickAddAnotherList=s.onClickAddAnotherList.bind(Object(h.a)(s)),s.onSubmitForm=s.onSubmitForm.bind(Object(h.a)(s)),s.onclickX=s.onclickX.bind(Object(h.a)(s)),s}return Object(b.a)(n,[{key:"render",value:function(){return Object(s.jsx)("div",{children:!1===this.state.isAddAnotherListOn?Object(s.jsx)("div",{className:"",children:Object(s.jsx)("button",{onClick:this.onClickAddAnotherList,type:"button",className:"f7 link dim br2 pa1 ml3 dib black",children:"+ Add another list"})}):Object(s.jsx)("form",{onSubmit:this.onSubmitForm,className:"br2",children:Object(s.jsxs)("div",{className:"br2 container bg-moon-gray",children:[Object(s.jsx)("div",{className:"item1",children:Object(s.jsx)("input",{className:"f6 pa1 w-100",type:"text",placeholder:"Enter list title",onChange:this.onInputChange})}),Object(s.jsx)("div",{className:"item2",children:Object(s.jsx)("button",{className:"f7 mv1 pa1 br2 dim bg-green",type:"submit",children:"Submit"})}),Object(s.jsx)("div",{className:"f6 pa1 br2 dim bg-grey black item3",children:Object(s.jsx)("button",{onClick:this.onclickX,children:"X"})})]})})})}}]),n}(a.Component),O=function(e){Object(d.a)(n,e);var t=Object(m.a)(n);function n(e){var s;return Object(l.a)(this,n),(s=t.call(this,e)).state={isChangeListNameOn:!1,title:""},s.onInputChange=s.onInputChange.bind(Object(h.a)(s)),s.onClickChangeListName=s.onClickChangeListName.bind(Object(h.a)(s)),s.onSubmitForm=s.onSubmitForm.bind(Object(h.a)(s)),s.onClickX=s.onClickX.bind(Object(h.a)(s)),s}return Object(b.a)(n,[{key:"onInputChange",value:function(e){this.setState({title:e.target.value})}},{key:"onClickChangeListName",value:function(){this.setState({isChangeListNameOn:!0})}},{key:"onClickX",value:function(){this.setState({isChangeListNameOn:!1})}},{key:"onSubmitForm",value:function(e){e.preventDefault(),this.props.onSubmitChangeListName(this.state.title,this.props.list_id),this.setState({isChangeListNameOn:!1,title:""})}},{key:"render",value:function(){return Object(s.jsx)("div",{children:!1===this.state.isChangeListNameOn?Object(s.jsx)("div",{children:Object(s.jsx)("button",{type:"button",onClick:this.onClickChangeListName,className:"f7 link dim br2 pa1 ml3 dib black bg-grey",children:"change list name"})}):Object(s.jsx)("form",{onSubmit:this.onSubmitForm,className:"br2",children:Object(s.jsxs)("div",{className:"br2 container",children:[Object(s.jsx)("div",{className:"item1",children:Object(s.jsx)("input",{className:"f6 pa1 w-100",type:"text",placeholder:"Enter new list title",onChange:this.onInputChange})}),Object(s.jsx)("div",{className:"item2",children:Object(s.jsx)("button",{className:"f7 mv1 pa1 br2 dim bg-green",type:"submit",children:"Submit"})}),Object(s.jsx)("div",{className:"f6 pa1 br2 dim bg-grey black item3",children:Object(s.jsx)("button",{onClick:this.onClickX,children:"X"})})]})})})}}]),n}(a.Component),f=function(e){Object(d.a)(n,e);var t=Object(m.a)(n);function n(e){var s;return Object(l.a)(this,n),(s=t.call(this,e)).state={isChangeTaskNameOn:!1,title:""},s.onInputChange=s.onInputChange.bind(Object(h.a)(s)),s.onClickChangeTaskName=s.onClickChangeTaskName.bind(Object(h.a)(s)),s.onSubmitForm=s.onSubmitForm.bind(Object(h.a)(s)),s.onClickX=s.onClickX.bind(Object(h.a)(s)),s}return Object(b.a)(n,[{key:"onInputChange",value:function(e){this.setState({title:e.target.value})}},{key:"onClickChangeTaskName",value:function(){this.setState({isChangeTaskNameOn:!0})}},{key:"onClickX",value:function(){this.setState({isChangeTaskNameOn:!1})}},{key:"onSubmitForm",value:function(e){e.preventDefault(),this.props.onSubmitChangeTaskName(this.state.title,this.props.task_id),this.setState({isChangeTaskNameOn:!1,title:""})}},{key:"render",value:function(){return Object(s.jsx)("div",{children:!1===this.state.isChangeTaskNameOn?Object(s.jsx)("div",{children:Object(s.jsx)("button",{type:"button",onClick:this.onClickChangeTaskName,className:"f7 link dim br2 pa1 ml3 dib black",children:"change task name"})}):Object(s.jsx)("form",{onSubmit:this.onSubmitForm,className:"br2",children:Object(s.jsxs)("div",{className:"br2 container",children:[Object(s.jsx)("div",{className:"item1",children:Object(s.jsx)("input",{className:"f7 pa1 w-100",type:"text",placeholder:"Enter new task title",onChange:this.onInputChange})}),Object(s.jsx)("div",{className:"item2",children:Object(s.jsx)("button",{className:"f7 mv1 pa1 br2 dim bg-green",type:"submit",children:"Submit"})}),Object(s.jsx)("div",{className:"f6 pa1 br2 dim bg-grey black item3",children:Object(s.jsx)("button",{onClick:this.onClickX,children:"X"})})]})})})}}]),n}(a.Component),k=(n(19),function(e){Object(d.a)(n,e);var t=Object(m.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(b.a)(n,[{key:"onSubmitNewList",value:function(e){this.props.SubmitNewList(e)}},{key:"onSubmitNewTask",value:function(e,t){this.props.SubmitNewTask(e,t)}},{key:"onSubmitChangeListName",value:function(e,t){this.props.SubmitNewListName(e,t)}},{key:"onSubmitChangeTaskName",value:function(e,t){this.props.SubmitNewTaskName(e,t)}},{key:"render",value:function(){var e=this;return Object(s.jsxs)("div",{className:"flex",children:[Object(s.jsx)("ul",{className:"flex",children:this.props.lists.map((function(t,n){return Object(s.jsx)("div",{className:"mh2 br2",children:Object(s.jsxs)("li",{className:"flex-column list br2",children:[Object(s.jsxs)("div",{className:"mb1",children:[t.title,Object(s.jsx)("button",{type:"button",onClick:function(){return e.props.deleteList(t.list_id)},className:"f7 link dim br2 pa1 ml3 dib white bg-red",children:"delete"}),Object(s.jsx)(O,{onSubmitChangeListName:e.onSubmitChangeListName.bind(e),list_id:t.list_id})]}),Object(s.jsxs)("ul",{className:"flex flex-column",children:[e.props.tasks.map((function(n){return n.list_id===t.list_id?Object(s.jsxs)("li",{className:"task br2 mh2 mb1",children:[n.title,Object(s.jsx)("button",{type:"button",onClick:function(){return e.props.deleteTask(n.task_id)},className:"f7 link dim br2 pa1 ml3 dib white bg-red",children:"delete"}),Object(s.jsx)(f,{className:"mh2 pa0",onSubmitChangeTaskName:e.onSubmitChangeTaskName.bind(e),list_id:t.list_id,task_id:n.task_id})]},n.task_id):null})),Object(s.jsx)("div",{id:n,className:"task br2 mh2 mb2 pt1",children:Object(s.jsx)(p,{onSubmitNewTask:e.onSubmitNewTask.bind(e),list_id:t.list_id})})]})]})},t.list_id)}))}),Object(s.jsx)(g,{onSubmitNewList:this.onSubmitNewList.bind(this)})]})}}]),n}(a.Component)),N=function(e){Object(d.a)(n,e);var t=Object(m.a)(n);function n(e){var s;return Object(l.a)(this,n),(s=t.call(this,e)).onEmailChange=function(e){s.setState({signInEmail:e.target.value})},s.onPasswordChange=function(e){s.setState({signInPassword:e.target.value})},s.onSubmitSignIn=function(){fetch("http://localhost:3000/signin",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:s.state.signInEmail,password:s.state.signInPassword})}).then((function(e){return e.json()})).then((function(e){if("wrong credentials"===e)return console.log("wrong credentials");e.first_name&&(s.props.loadUser(e),s.props.onRouteChange("home"))}))},s.state={signInEmail:"",signInPassword:""},s}return Object(b.a)(n,[{key:"render",value:function(){var e=this;return Object(s.jsx)("article",{className:"br3 ba dark-gray b--black-10 mv4 w-100 w-50-m w-25-l mw6 shadow-5 center",children:Object(s.jsx)("main",{className:"pa4 black-80 center",children:Object(s.jsxs)("div",{className:"measure",children:[Object(s.jsxs)("fieldset",{id:"sign_up",className:"ba b--transparent ph0 mh0",children:[Object(s.jsx)("legend",{className:"f2 fw6 ph0 mh0",children:"Sign In"}),Object(s.jsxs)("div",{className:"mt3",children:[Object(s.jsx)("label",{className:"db fw6 lh-copy f6",htmlFor:"email-address",children:"Email"}),Object(s.jsx)("input",{className:"pa2 input-reset ba bg-transparent hover-bg-black hover-white w-100",type:"email",name:"email-address",id:"email-address",onChange:this.onEmailChange})]}),Object(s.jsxs)("div",{className:"mv3",children:[Object(s.jsx)("label",{className:"db fw6 lh-copy f6",htmlFor:"password",children:"Password"}),Object(s.jsx)("input",{className:"b pa2 input-reset ba bg-transparent hover-bg-black hover-white w-100",type:"password",name:"password",id:"password",onChange:this.onPasswordChange})]})]}),Object(s.jsx)("div",{className:"",children:Object(s.jsx)("input",{onClick:this.onSubmitSignIn,className:"b ph3 pv2 input-reset ba b--black bg-transparent grow pointer f6 dib",type:"submit",value:"Sign in"})}),Object(s.jsx)("div",{className:"lh-copy mt3",children:Object(s.jsx)("p",{onClick:function(){return e.props.onRouteChange("register")},className:"f6 link dim black pointer db",children:"Register"})})]})})})}}]),n}(a.Component),v=function(e){Object(d.a)(n,e);var t=Object(m.a)(n);function n(e){var s;return Object(l.a)(this,n),(s=t.call(this,e)).onFirstNameChange=function(e){s.setState({first_name:e.target.value})},s.onLastNameChange=function(e){s.setState({last_name:e.target.value})},s.onEmailChange=function(e){s.setState({email:e.target.value})},s.onPasswordChange=function(e){s.setState({password:e.target.value})},s.onSubmitRegister=function(){fetch("http://localhost:3000/register",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:s.state.email,password:s.state.password,first_name:s.state.first_name,last_name:s.state.last_name})}).then((function(e){return e.json()})).then((function(e){s.props.loadUser(e),s.props.onRouteChange("home")}))},s.state={email:"",password:"",first_name:"",last_name:""},s}return Object(b.a)(n,[{key:"render",value:function(){return Object(s.jsx)("article",{className:"br3 ba dark-gray b--black-10 mv4 w-100 w-50-m w-25-l mw6 shadow-5 center",children:Object(s.jsx)("main",{className:"pa4 black-80 center",children:Object(s.jsxs)("div",{className:"measure",children:[Object(s.jsxs)("fieldset",{id:"sign_up",className:"ba b--transparent ph0 mh0",children:[Object(s.jsx)("legend",{className:"f2 fw6 ph0 mh0",children:"Register"}),Object(s.jsxs)("div",{className:"mt3",children:[Object(s.jsx)("label",{className:"db fw6 lh-copy f6",htmlFor:"email-address",children:"First Name"}),Object(s.jsx)("input",{className:"pa2 input-reset ba bg-transparent hover-bg-black hover-white w-100",type:"text",name:"first_name",id:"first_name",onChange:this.onFirstNameChange})]}),Object(s.jsxs)("div",{className:"mt3",children:[Object(s.jsx)("label",{className:"db fw6 lh-copy f6",htmlFor:"email-address",children:"Last Name"}),Object(s.jsx)("input",{className:"pa2 input-reset ba bg-transparent hover-bg-black hover-white w-100",type:"text",name:"last_name",id:"last_name",onChange:this.onLastNameChange})]}),Object(s.jsxs)("div",{className:"mt3",children:[Object(s.jsx)("label",{className:"db fw6 lh-copy f6",htmlFor:"email-address",children:"Email"}),Object(s.jsx)("input",{className:"pa2 input-reset ba bg-transparent hover-bg-black hover-white w-100",type:"email",name:"email-address",id:"email-address",onChange:this.onEmailChange})]}),Object(s.jsxs)("div",{className:"mv3",children:[Object(s.jsx)("label",{className:"db fw6 lh-copy f6",htmlFor:"password",children:"Password"}),Object(s.jsx)("input",{className:"b pa2 input-reset ba bg-transparent hover-bg-black hover-white w-100",type:"password",name:"password",id:"password",onChange:this.onPasswordChange})]})]}),Object(s.jsx)("div",{className:"",children:Object(s.jsx)("input",{onClick:this.onSubmitRegister,className:"b ph3 pv2 input-reset ba b--black bg-transparent grow pointer f6 dib",type:"submit",value:"Register"})})]})})})}}]),n}(a.Component),C={route:"signin",isSignedIn:!1,user:{first_name:"",last_name:"",email:"",lists:[],tasks:[],joined:""}},x=function(e){Object(d.a)(n,e);var t=Object(m.a)(n);function n(){var e;return Object(l.a)(this,n),(e=t.call(this)).onRouteChange=function(t){"signin"===t||"register"===t?e.setState(C):"home"===t&&e.setState({isSignedIn:!0}),e.setState({route:t})},e.loadUser=function(t){e.setState({user:{first_name:t.first_name,last_name:t.last_name,email:t.email,lists:t.lists,tasks:t.tasks}})},e.SubmitNewList=function(t){fetch("http://localhost:3000/lists",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e.state.user.email,title:t})}).then((function(e){return e.json()})).then((function(t){e.setState({user:Object(r.a)(Object(r.a)({},e.state.user),{},{lists:t})})}))},e.SubmitNewTask=function(t,n){fetch("http://localhost:3000/tasks",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e.state.user.email,title:t,list_id:n})}).then((function(e){return e.json()})).then((function(t){e.setState({user:Object(r.a)(Object(r.a)({},e.state.user),{},{tasks:t})})}))},e.deleteTask=function(t){fetch("http://localhost:3000/tasks",{method:"delete",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e.state.user.email,task_id:t})}).then((function(e){return e.json()})).then((function(t){e.setState({user:Object(r.a)(Object(r.a)({},e.state.user),{},{tasks:t})})}))},e.deleteList=function(t){fetch("http://localhost:3000/lists",{method:"delete",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e.state.user.email,list_id:t})}).then((function(e){return e.json()})).then((function(t){e.setState({user:Object(r.a)(Object(r.a)({},e.state.user),{},{lists:t})})}))},e.SubmitNewListName=function(t,n){fetch("http://localhost:3000/lists",{method:"put",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e.state.user.email,list_id:n,new_title:t})}).then((function(e){return e.json()})).then((function(t){e.setState({user:Object(r.a)(Object(r.a)({},e.state.user),{},{lists:t})})}))},e.SubmitNewTaskName=function(t,n){fetch("http://localhost:3000/tasks",{method:"put",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e.state.user.email,task_id:n,new_title:t})}).then((function(e){return e.json()})).then((function(t){e.setState({user:Object(r.a)(Object(r.a)({},e.state.user),{},{tasks:t})})}))},e.state={route:"signin",isSignedIn:!1,user:{first_name:"",last_name:"",email:"",lists:[],tasks:[],joined:""}},e.SubmitNewList=e.SubmitNewList.bind(Object(h.a)(e)),e.SubmitNewTask=e.SubmitNewTask.bind(Object(h.a)(e)),e.deleteTask=e.deleteTask.bind(Object(h.a)(e)),e.deleteList=e.deleteList.bind(Object(h.a)(e)),e.onRouteChange=e.onRouteChange.bind(Object(h.a)(e)),e}return Object(b.a)(n,[{key:"render",value:function(){var e=this.state,t=e.isSignedIn,n=e.route,a=e.user;return Object(s.jsxs)("div",{className:"App",children:[Object(s.jsx)(u,{onRouteChange:this.onRouteChange,isSignedIn:t}),"home"===n?Object(s.jsxs)("div",{children:[Object(s.jsx)(j,{name:a.first_name}),Object(s.jsx)(k,{lists:a.lists,tasks:a.tasks,SubmitNewTask:this.SubmitNewTask,SubmitNewList:this.SubmitNewList,SubmitNewListName:this.SubmitNewListName,SubmitNewTaskName:this.SubmitNewTaskName,deleteTask:this.deleteTask,deleteList:this.deleteList})]}):"signin"===n?Object(s.jsx)(N,{onRouteChange:this.onRouteChange,loadUser:this.loadUser}):Object(s.jsx)(v,{onRouteChange:this.onRouteChange,loadUser:this.loadUser})]})}}]),n}(a.Component),S=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function w(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}n(20);o.a.render(Object(s.jsx)(i.a.StrictMode,{children:Object(s.jsx)(x,{})}),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/task-management",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/task-management","/service-worker.js");S?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var s=n.headers.get("content-type");404===n.status||null!=s&&-1===s.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):w(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):w(t,e)}))}}()}],[[21,1,2]]]);
//# sourceMappingURL=main.b7bd7fed.chunk.js.map